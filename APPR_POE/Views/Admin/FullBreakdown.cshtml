@using Microsoft.EntityFrameworkCore

<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
</head>

@{
    Layout = "_AdminLayout";
}
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
</head>

<body>

    <br />
    <center>

        <button onclick="redirectToViewHistory()" style="width: 120px; font-size: 12px; float:left; margin-right: 4px;" class="btn btn-primary">
            <i style="font-size: 14px;" class="bi bi-arrow-left-square"></i>&nbsp;&nbsp;Back
        </button>
        <h2 style="color: white; margin-right: 140px;">Recent cash flow</h2>
    </center>

    <div>
        <div class="tbl-header">
            <table cellpadding="0" cellspacing="0" border="0" style="margin-top: 10px;">
                <thead>
                    <tr>
                        <td style="width: 5%;font-size: 16px;"></td>
                        <td style="width: 30%;font-size: 16px;">Date</td>
                        <td style="width: 30%;font-size: 16px;">Amount</td>
                        <td style="width: 30%;font-size: 16px;">Activity</td>
                    </tr>
                </thead>
            </table>
        </div>
        <div class="tbl-content">
            <table cellpadding="0" cellspacing="0" border="0">
                <tbody>
                    @foreach (var item in ViewBag.cashFlow)
                    {
                        <tr>
                            <td style="width: 5%">

                                @{
                                    if (@item.activity == "outgoing")
                                    {
                                        <i class="bi bi-arrow-down-square" style="color: red; font-size: 200%"></i>
                                    }
                                    else
                                    {
                                        <i class="bi bi-arrow-up-square" style="color: green; font-size: 200%"></i>
                                    }
                                }



                            </td>
                            <td style="width: 30%">@item.date.ToString("dd/MM/yyyy")</td>
                            <td style="width: 30%">R @item.amount.ToString("#,##0.00")</td>
                            <td style="width: 30%">@item.activity</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</body>


<style>

    table {
        width: 100%;
        table-layout: fixed;
    }

    .tbl-header {
        background-color: rgba(255,255,255,0.3);
        border-top-left-radius: 10px;
        border-top-right-radius: 10px;
    }

    .tbl-content {
        height: 600px;
        overflow-x: auto;
        margin-top: 0px;
        border: 1px solid rgba(255,255,255,0.3);
    }

    th {
        padding: 20px 15px;
        text-align: left;
        font-weight: 500;
        font-size: 12px;
        color: #fff;
        text-transform: uppercase;
    }

    td {
        padding: 15px;
        font-weight: 300;
        font-size: 12px;
        color: #fff;
        border-bottom: solid 1px rgba(255,255,255,0.1);
    }

</style>

<script>
    function redirectToViewHistory() {
        window.location.href = "/Admin/ViewHistory";
    }


</script>